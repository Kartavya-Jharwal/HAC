<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ctOS // BLUME GREETER</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/theme.css">
  <link rel="stylesheet" href="css/layout.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/animations.css">

  <!-- Preload background -->
  <link rel="preload" as="image" href="../greeter/resources/lock.png">

  <style>
    /* Inline critical: hide everything until JS initializes */
    .ctos { opacity: 0; transition: opacity 0.1s ease; }
    .ctos.initialized { opacity: 1; }
  </style>
</head>
<body>
  <div class="ctos" id="ctos">

    <!-- ▸ Background -->
    <div class="ctos-background"></div>

    <!-- ▸ Fade-to-black overlay -->
    <div class="ctos-blackout" id="blackout"></div>

    <!-- ▸ Top Bar -->
    <div class="bar" id="bar">
      <div class="bar__system-label">
        <img src="../bar/Resources/distro-arch.svg" alt="distro">
        <span class="bar__ct-text">CT</span>
      </div>
      <span class="bar__os-text">OS</span>
      <div class="bar__divider"></div>
      <div class="bar__workspace">
        <img class="corner-frame corner-frame--tl" src="../bar/Resources/corner-frame.svg" width="10" height="10" alt="">
        <img class="corner-frame corner-frame--tr" src="../bar/Resources/corner-frame.svg" width="10" height="10" alt="">
        <img class="corner-frame corner-frame--bl" src="../bar/Resources/corner-frame.svg" width="10" height="10" alt="">
        <img class="corner-frame corner-frame--br" src="../bar/Resources/corner-frame.svg" width="10" height="10" alt="">
      </div>
      <div class="bar__divider"></div>
    </div>

    <!-- ▸ Time (top-left) -->
    <div class="time" id="time">
      <div class="time__icon-wrapper accents">
        <img class="accents__mark accents__mark--tl" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--tr" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--bl" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--br" src="../greeter/resources/accent.svg" alt="">
        <img class="time__icon" src="../greeter/resources/os-icon.svg" alt="ctOS">
      </div>
      <div class="time__info" id="time-info">
        <span class="time__clock" id="clock">--:--</span>
        <div class="time__date-badge">
          <span class="time__date" id="date">--- -- -------</span>
        </div>
      </div>
    </div>

    <!-- ▸ Status (top-right) -->
    <div class="status" id="status">
      <div class="surface">
        <div class="surface__bar-left"></div>
        <div class="surface__content">
          <div class="status__row">
            <span class="status__label">ENV</span>
            <span class="status__value" id="status-env">Workstation</span>
          </div>
          <div class="status__row">
            <span class="status__label">NODE</span>
            <span class="status__value" id="status-node">109.389.013.301</span>
          </div>
        </div>
        <div class="surface__bar-right"></div>
      </div>
    </div>

    <!-- ▸ Typewriter header (above splash — shows IDENTITY VERIFIED) -->
    <div class="typewriter-header" id="typewriter">
      <span class="typewriter-text" id="typewriter-text"></span>
    </div>

    <!-- ▸ Splash (center — progress bar + CT/OS) -->
    <div class="splash-container" id="splash-container">
      <div class="accents">
        <img class="accents__mark accents__mark--tl" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--tr" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--bl" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--br" src="../greeter/resources/accent.svg" alt="">
        <div class="splash" id="splash">
          <div class="splash__bar" id="splash-bar"></div>
          <span class="splash__ct" id="splash-ct">CT</span>
          <span class="splash__os" id="splash-os">OS</span>
          <div class="splash__final-bar" id="splash-final-bar"></div>
        </div>
      </div>
    </div>

    <!-- ▸ Field Group (below splash — username, password, login) -->
    <div class="field-group" id="field-group">
      <!-- Username row -->
      <div class="user-row">
        <img class="user-row__barcode" src="../greeter/resources/barcode.svg" alt="">
        <span class="user-row__name" id="username">CTOS_USER</span>
      </div>

      <!-- Password field -->
      <div class="password-wrapper" id="password-wrapper">
        <input class="password-hidden-input" id="password-input" type="text" autocomplete="off" spellcheck="false">
        <div class="password-display" id="password-display">
          <span class="password-cursor">▁</span>
        </div>
      </div>

      <!-- Login button -->
      <div class="login-btn" id="login-btn">
        <span class="login-btn__text">LOGIN</span>
        <!-- Spinner (3×3 grid) -->
        <div class="spinner" id="spinner">
          <div class="spinner__cell" data-index="0"></div>
          <div class="spinner__cell" data-index="1"></div>
          <div class="spinner__cell" data-index="2"></div>
          <div class="spinner__cell" data-index="3"></div>
          <div class="spinner__cell spinner__cell--center" data-index="4"></div>
          <div class="spinner__cell" data-index="5"></div>
          <div class="spinner__cell" data-index="6"></div>
          <div class="spinner__cell" data-index="7"></div>
          <div class="spinner__cell" data-index="8"></div>
        </div>
      </div>
    </div>

    <!-- ▸ Confirmation text -->
    <div class="confirmation-text" id="confirmation">
      [<span id="confirm-enter" style="color: var(--ctos-gray)">ENTER</span>] TO CONFIRM
    </div>

    <!-- ▸ Disclaimer -->
    <div class="disclaimer" id="disclaimer">
      <div class="disclaimer__inner">
        <img class="disclaimer__icon" src="../greeter/resources/tesseract.svg" alt="">
        <div class="disclaimer__text-block" id="disclaimer-text">
          <span class="disclaimer__line">Property of Blume Corp. All usage is</span>
          <span class="disclaimer__line">subject to Sentinel Active Monitoring.</span>
        </div>
      </div>
    </div>

    <!-- ▸ Terminal (bottom-left) -->
    <div class="terminal" id="terminal">
      <div class="terminal__log" id="terminal-log"></div>
      <div class="terminal__version-wrapper accents">
        <img class="accents__mark accents__mark--tl" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--tr" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--bl" src="../greeter/resources/accent.svg" alt="">
        <img class="accents__mark accents__mark--br" src="../greeter/resources/accent.svg" alt="">
        <div class="terminal__version-badge">
          <span class="terminal__version-text">blume-krn-1.0.8 &lt;&gt; ctOS-1.0.0-a</span>
        </div>
      </div>
    </div>

    <!-- ▸ Device ID (bottom-right) -->
    <div class="device-id" id="device-id">
      <div class="device-id__column">
        <img class="device-id__tesseract" src="../greeter/resources/tesseract.svg" alt="">
        <div class="device-id__spacer"></div>
        <img class="device-id__text" src="../greeter/resources/device-text.svg" alt="">
        <div class="device-id__rule"></div>
      </div>
      <img class="device-id__barcode" src="../greeter/resources/device-barcode.svg" alt="">
    </div>

    <!-- ▸ Identity Card (hidden until auth success) -->
    <div class="identity-card" id="identity-card">
      <div class="identity-card__inner">
        <div class="identity-card__fields">
          <div class="identity-card__field" data-field="0">
            <div class="identity-card__field-label">EMPID</div>
            <div class="identity-card__field-value">8374</div>
          </div>
          <div class="identity-card__field" data-field="1">
            <div class="identity-card__field-label">CLASS</div>
            <div class="identity-card__field-value">EXECUTIVE</div>
          </div>
          <div class="identity-card__field" data-field="2">
            <div class="identity-card__field-label">FULL NAME</div>
            <div class="identity-card__field-value">AIDEN PEARCE</div>
          </div>
          <div class="identity-card__barcode" data-field="3">
            <img src="../greeter/resources/id-barcode.svg" alt="">
          </div>
        </div>
        <div class="identity-card__profile">
          <img src="../greeter/resources/user.svg" alt="profile">
        </div>
      </div>
    </div>

    <!-- ▸ Toast notification -->
    <div class="toast" id="toast">
      ◈ This is a demo — no data is submitted
    </div>

  </div>

  <script src="js/main.js"></script>
</body>
</html>
